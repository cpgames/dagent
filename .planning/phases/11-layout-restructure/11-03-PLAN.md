# Plan 11-03: Move Auth to Status Bar and Add Git Status

## Overview

Move the AuthStatusIndicator from the header to the status bar right section. Add git status display to the status bar left section showing current branch name.

## Why

The status bar is the appropriate location for persistent status indicators. Auth status and git branch are background information that should be visible but not prominent.

## Current State

- AuthStatusIndicator in App.tsx header
- No git status display anywhere
- StatusBar component created in 11-02 with placeholder content

## Target State

- Auth indicator in StatusBar right section
- Git branch display in StatusBar left section
- Header only has New Feature button
- Git status shows: branch name, loading state

## Tasks

1. Move AuthStatusIndicator to StatusBar
   - Remove from header in App.tsx
   - Pass as child or integrate into StatusBar right section
   - Keep same click handler for auth dialog

2. Create GitStatus component
   - src/renderer/src/components/Git/GitStatus.tsx
   - Display current branch name with git icon
   - Loading state while fetching
   - Click handler (placeholder for branch switching in Phase 14)

3. Add IPC handler for git branch info
   - src/main/ipc/git-handlers.ts - Add getBranch handler
   - src/preload/index.ts - Add git:getBranch to API
   - Use existing GitManager to get current branch

4. Create git-store for renderer
   - src/renderer/src/stores/git-store.ts
   - currentBranch state
   - loadBranch action
   - Export from stores/index.ts

5. Integrate GitStatus into StatusBar
   - Add to left section of StatusBar
   - Load branch on app mount

6. Create component index exports
   - src/renderer/src/components/Git/index.ts

## Files to Modify

- src/renderer/src/App.tsx - Remove auth from header, pass to StatusBar
- src/renderer/src/components/Layout/StatusBar.tsx - Add auth and git sections
- src/renderer/src/components/Git/GitStatus.tsx - New file
- src/renderer/src/components/Git/index.ts - New file
- src/renderer/src/stores/git-store.ts - New file
- src/renderer/src/stores/index.ts - Export git-store
- src/main/ipc/git-handlers.ts - Add getBranch
- src/preload/index.ts - Add git:getBranch API

## Verification

- [ ] Auth indicator visible in status bar right section
- [ ] Auth dialog still opens on click
- [ ] Git branch name displayed in status bar left section
- [ ] Header no longer has auth indicator
- [ ] Layout maintains proper structure
- [ ] App loads without errors
