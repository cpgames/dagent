---
phase: 28-task-agent-badges
plan: 01
type: execute
---

<objective>
Add agent role badges to task nodes in the DAG view.

Purpose: Help users understand which agent type handles each task during execution.
Output: TaskNode displays agent badges (Developer, QA, Merge) with tooltips.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/v1.5-ROADMAP.md
@.planning/STATE.md

@src/renderer/src/components/DAG/TaskNode.tsx
@src/shared/types/agent-config.ts

**Agent roles from agent-config.ts:**
- pm: Project management (not used for task execution)
- harness: Reviews intentions
- developer: Implements tasks
- qa: Verifies implementations
- merge: Handles branch integration

**Current TaskNode structure:**
- Header with title, lock icon, action buttons (chat, edit, delete)
- Status indicator at bottom
- Source/target handles for connections

**Default agent assignment (non-editable for now):**
- All tasks get Developer + QA badges by default
- Merge badge appears only when task is in 'merging' status
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add agent badges to TaskNode header</name>
  <files>src/renderer/src/components/DAG/TaskNode.tsx</files>
  <action>
Add agent role badges below the task title in the TaskNode header area.

**Badge design:**
- Small colored pills with abbreviated agent names
- Developer: "Dev" - purple bg (bg-purple-500/20, text-purple-400)
- QA: "QA" - teal bg (bg-teal-500/20, text-teal-400)
- Merge: "Merge" - green bg (bg-green-500/20, text-green-400) - only shown when status is 'merging'

**Placement:**
- Add a new row between header div and status indicator
- `<div className="px-3 py-1 flex gap-1">` containing badge spans
- Each badge: `<span className="text-xs px-1.5 py-0.5 rounded font-medium">Dev</span>`

**Logic:**
- Always show Dev and QA badges (all tasks have these default assignments)
- Show Merge badge only when `task.status === 'merging'`

**Keep it simple:** No configuration, no editable assignments, just visual indicators.
  </action>
  <verify>TypeScript compiles, badges visible on task nodes in DAG view</verify>
  <done>Task nodes display Dev/QA badges, Merge badge appears during merging status</done>
</task>

<task type="auto">
  <name>Task 2: Add tooltips to agent badges</name>
  <files>src/renderer/src/components/DAG/TaskNode.tsx</files>
  <action>
Add title attributes to badge spans for tooltip descriptions.

**Tooltips:**
- Developer badge: title="Developer Agent: Implements task code"
- QA badge: title="QA Agent: Verifies implementation"
- Merge badge: title="Merge Agent: Handles branch integration"

These are native browser tooltips (title attribute), keeping implementation simple.
  </action>
  <verify>Build passes, hovering over badges shows tooltip text</verify>
  <done>All agent badges have descriptive tooltips on hover</done>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] `npm run build` succeeds without errors
- [ ] Task nodes show Dev and QA badges
- [ ] Merge badge appears only for tasks with 'merging' status
- [ ] Hovering badges shows tooltip descriptions
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- Agent badges visually indicate task handlers
- Tooltips provide context on hover
</success_criteria>

<output>
After completion, create `.planning/phases/28-task-agent-badges/28-01-SUMMARY.md`
</output>
