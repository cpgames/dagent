---
phase: 79-chat-views-migration
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - src/renderer/src/views/ContextView.tsx
  - src/renderer/src/views/ContextView.css
  - src/renderer/src/components/Feature/FeatureSpecViewer.tsx
  - src/renderer/src/components/Feature/FeatureSpecViewer.css
autonomous: true
must_haves:
  truths:
    - "ContextView uses CSS custom properties for all colors"
    - "FeatureSpecViewer collapsible sections have synthwave styling"
    - "Discard dialog uses UI Dialog component"
    - "Save button has proper theme-based styling"
  artifacts:
    - path: "src/renderer/src/views/ContextView.css"
      provides: "Context view styling with theme variables"
      min_lines: 60
    - path: "src/renderer/src/components/Feature/FeatureSpecViewer.css"
      provides: "Feature spec viewer styling"
      min_lines: 40
  key_links:
    - from: "src/renderer/src/views/ContextView.tsx"
      to: "ContextView.css"
      via: "CSS import"
      pattern: "import.*ContextView\\.css"
---

<objective>
Migrate ContextView and FeatureSpecViewer components to use CSS custom properties with synthwave theming.

Purpose: Continue the v2.6 Synthwave UI Redesign by converting view components from Tailwind classes to CSS custom properties.
Output: Updated view components with dedicated CSS files using theme variables.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

@src/renderer/src/views/ContextView.tsx
@src/renderer/src/components/Feature/FeatureSpecViewer.tsx
@src/renderer/src/components/UI/index.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate ContextView component</name>
  <files>src/renderer/src/views/ContextView.tsx, src/renderer/src/views/ContextView.css</files>
  <action>
1. Create ContextView.css with:
   - `.context-view` container with padding and flex column layout
   - `.context-view__header` with flex layout, justify-between
   - `.context-view__title` using --text-primary, font-semibold
   - `.context-view__badge--unsaved` with --color-warning background
   - `.context-view__generate-btn` for disabled AI button with muted styling
   - `.context-view__error` with --color-error background, dismiss button
   - `.context-view__editor` for textarea container
   - `.context-view__textarea` with --bg-surface, border glow on focus, monospace font
   - `.context-view__footer` with flex layout for timestamp and save button
   - `.context-view__timestamp` using --text-muted
   - `.context-view__save-btn` with primary/disabled states

2. Update ContextView.tsx:
   - Add CSS import
   - Import Dialog, DialogHeader, DialogBody, DialogFooter, Button from '../components/UI'
   - Replace Tailwind classes with BEM-style CSS classes
   - Replace inline discard dialog with UI Dialog component
   - Use Button components for Cancel/Discard buttons in dialog
  </action>
  <verify>npm run build passes</verify>
  <done>ContextView uses CSS custom properties, discard dialog uses UI Dialog, all buttons themed</done>
</task>

<task type="auto">
  <name>Task 2: Migrate FeatureSpecViewer component</name>
  <files>src/renderer/src/components/Feature/FeatureSpecViewer.tsx, src/renderer/src/components/Feature/FeatureSpecViewer.css</files>
  <action>
1. Create FeatureSpecViewer.css with:
   - `.spec-viewer` container with --bg-surface, border styling
   - `.spec-viewer__header` with border-bottom, icon and title
   - `.spec-viewer__header-icon` with --accent-primary color
   - `.spec-viewer__header-title` using --text-primary
   - `.spec-viewer__feature-name` using --text-muted, truncate
   - `.spec-viewer__section` for collapsible sections
   - `.spec-viewer__section-header` for clickable header with hover state
   - `.spec-viewer__section-title` using --text-secondary
   - `.spec-viewer__section-count` using --text-muted
   - `.spec-viewer__section-chevron` for rotate animation
   - `.spec-viewer__list` for content lists
   - `.spec-viewer__item` for list items with flex layout
   - `.spec-viewer__item-bullet--goal` with --accent-primary color
   - `.spec-viewer__item-bullet--constraint` with --color-warning color
   - `.spec-viewer__item-check--complete` with --color-success color
   - `.spec-viewer__item-check--pending` with --text-muted color
   - `.spec-viewer__progress` for progress text
   - `.spec-viewer__empty` for empty state
   - `.spec-viewer__loading` for loading state

2. Update FeatureSpecViewer.tsx:
   - Add CSS import
   - Replace Tailwind classes with BEM-style CSS classes
   - Keep chevron rotation logic with CSS class toggle
  </action>
  <verify>npm run build passes</verify>
  <done>FeatureSpecViewer uses CSS custom properties, sections have proper hover states, status indicators use semantic colors</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] npm run build succeeds without errors
- [ ] ContextView.tsx imports and uses ContextView.css
- [ ] FeatureSpecViewer.tsx imports and uses FeatureSpecViewer.css
- [ ] All Tailwind color classes replaced with CSS custom properties
- [ ] Discard dialog in ContextView uses UI Dialog component
- [ ] Collapsible sections in FeatureSpecViewer have proper animations
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- No errors or warnings introduced
- Components match synthwave aesthetic established in prior phases
</success_criteria>

<output>
After completion, create `.planning/phases/79-chat-views-migration/79-02-SUMMARY.md`
</output>
