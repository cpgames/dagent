---
phase: 79-chat-views-migration
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/renderer/src/components/Chat/ChatPanel.tsx
  - src/renderer/src/components/Chat/ChatPanel.css
  - src/renderer/src/components/Chat/ChatMessage.tsx
  - src/renderer/src/components/Chat/ChatMessage.css
  - src/renderer/src/components/Chat/ToolUsageDisplay.tsx
  - src/renderer/src/components/Chat/ToolUsageDisplay.css
  - src/renderer/src/components/Chat/FeatureChat.tsx
autonomous: true
must_haves:
  truths:
    - "Chat components use CSS custom properties for all colors"
    - "User and AI messages have distinct visual styles using theme colors"
    - "Tool usage display matches synthwave aesthetic"
    - "Streaming content indicator uses theme accent colors"
  artifacts:
    - path: "src/renderer/src/components/Chat/ChatPanel.css"
      provides: "Chat panel styling with theme variables"
      min_lines: 40
    - path: "src/renderer/src/components/Chat/ChatMessage.css"
      provides: "Message bubble styling"
      min_lines: 20
    - path: "src/renderer/src/components/Chat/ToolUsageDisplay.css"
      provides: "Tool usage display styling"
      min_lines: 25
  key_links:
    - from: "src/renderer/src/components/Chat/ChatPanel.tsx"
      to: "ChatPanel.css"
      via: "CSS import"
      pattern: "import.*ChatPanel\\.css"
---

<objective>
Migrate Chat components (ChatPanel, ChatMessage, ToolUsageDisplay, FeatureChat) to use CSS custom properties with synthwave theming.

Purpose: Continue the v2.6 Synthwave UI Redesign by converting Chat components from Tailwind classes to CSS custom properties, ensuring consistent theming throughout the application.
Output: Updated Chat components with dedicated CSS files using theme variables.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/78-dialog-migration/78-02-SUMMARY.md

@src/renderer/src/components/Chat/ChatPanel.tsx
@src/renderer/src/components/Chat/ChatMessage.tsx
@src/renderer/src/components/Chat/ToolUsageDisplay.tsx
@src/renderer/src/components/Chat/FeatureChat.tsx
@src/renderer/src/components/UI/index.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate ChatMessage component</name>
  <files>src/renderer/src/components/Chat/ChatMessage.tsx, src/renderer/src/components/Chat/ChatMessage.css</files>
  <action>
1. Create ChatMessage.css with:
   - `.chat-message` base class with flex layout
   - `.chat-message--user` modifier with cyan accent background (--accent-primary at 20% opacity)
   - `.chat-message--assistant` modifier with purple/magenta background (--accent-secondary at 15% opacity)
   - `.chat-message__role` for role label (You/AI) using --text-secondary
   - `.chat-message__content` for message text using --text-primary
   - Border styling using appropriate accent colors
   - Glow effects on hover

2. Update ChatMessage.tsx:
   - Add CSS import
   - Replace Tailwind classes with BEM-style CSS classes
   - Use conditional class for user vs assistant messages
  </action>
  <verify>npm run build passes</verify>
  <done>ChatMessage uses CSS custom properties, user messages have cyan tint, assistant messages have purple tint</done>
</task>

<task type="auto">
  <name>Task 2: Migrate ToolUsageDisplay component</name>
  <files>src/renderer/src/components/Chat/ToolUsageDisplay.tsx, src/renderer/src/components/Chat/ToolUsageDisplay.css</files>
  <action>
1. Create ToolUsageDisplay.css with:
   - `.tool-usage` container with --bg-surface background, border glow
   - `.tool-usage__name` for tool name using --accent-secondary (purple/magenta)
   - `.tool-usage__status--running` with --color-warning (yellow/orange) and pulse animation
   - `.tool-usage__status--done` with --color-success (green)
   - `.tool-usage__input` for input display with monospace font, --text-muted color
   - `.tool-usage__result` for result details with darker background
   - `.tool-usage__summary` for clickable summary text

2. Update ToolUsageDisplay.tsx:
   - Add CSS import
   - Replace Tailwind classes with BEM-style CSS classes
   - Maintain collapsible details functionality
  </action>
  <verify>npm run build passes</verify>
  <done>ToolUsageDisplay uses CSS custom properties with synthwave colors for tool name, status, and results</done>
</task>

<task type="auto">
  <name>Task 3: Migrate ChatPanel component</name>
  <files>src/renderer/src/components/Chat/ChatPanel.tsx, src/renderer/src/components/Chat/ChatPanel.css</files>
  <action>
1. Create ChatPanel.css with:
   - `.chat-panel` container with --bg-base background, border styling
   - `.chat-panel__header` with border, agent name styling
   - `.chat-panel__header-title` using --text-primary
   - `.chat-panel__header-actions` for button group
   - `.chat-panel__messages` for scrollable message area
   - `.chat-panel__empty` for empty state text
   - `.chat-panel__streaming` for streaming response container with accent glow
   - `.chat-panel__streaming-cursor` for animated cursor using --accent-primary
   - `.chat-panel__thinking` for "AI is thinking" state
   - `.chat-panel__stop-btn` for stop button with --color-error styling
   - `.chat-panel__input-area` for input section with border
   - `.chat-panel__textarea` for text input with focus states
   - `.chat-panel__send-btn` for send button using Button-like styling

2. Update ChatPanel.tsx:
   - Add CSS import
   - Import Button from '../UI' for Send button
   - Replace Tailwind classes with BEM-style CSS classes
   - Keep textarea as native element with CSS styling (for resize behavior)
  </action>
  <verify>npm run build passes</verify>
  <done>ChatPanel uses CSS custom properties, header has synthwave styling, input area has proper focus states</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] npm run build succeeds without errors
- [ ] ChatMessage.tsx imports and uses ChatMessage.css
- [ ] ToolUsageDisplay.tsx imports and uses ToolUsageDisplay.css
- [ ] ChatPanel.tsx imports and uses ChatPanel.css
- [ ] All Tailwind color classes replaced with CSS custom properties
- [ ] User messages visually distinct from assistant messages
- [ ] Tool usage display shows synthwave colors (purple tool name, yellow running, green done)
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- No errors or warnings introduced
- Chat components match synthwave aesthetic established in prior phases
</success_criteria>

<output>
After completion, create `.planning/phases/79-chat-views-migration/79-01-SUMMARY.md`
</output>
