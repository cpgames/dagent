---
phase: v3.2-04-kanban-refactor
plan: 01
status: complete
---

# Summary: Kanban Column Mapping Refactor

## Objective
Align Kanban column-to-status mapping with KANBAN-03 requirements: only `not_started` in Backlog, all other non-terminal states in In Progress.

## Changes Made

### 1. KanbanView.tsx - Column Mapping Fixed
**Before:**
```typescript
{ title: 'Backlog', statuses: ['not_started', 'ready'] },
{ title: 'In Progress', statuses: ['creating_worktree', 'investigating', 'questioning', 'planning', 'in_progress'] },
```

**After:**
```typescript
{ title: 'Backlog', statuses: ['not_started'] },
{ title: 'In Progress', statuses: ['creating_worktree', 'investigating', 'questioning', 'planning', 'ready', 'in_progress'] },
```

Key change: Moved `ready` from Backlog to In Progress. Per KANBAN-03, only `not_started` (no worktree yet) belongs in Backlog.

### 2. KanbanColumn.tsx - Title-Based Styling
- Changed CSS class generation from `status` prop to column title
- Added `titleClass` helper: `title.toLowerCase().replace(/\s+/g, '-')`
- Updated merge button check from `status === 'completed'` to `title === 'Completed'`
- Marked `status` prop as unused (`_status`) for interface compatibility

### 3. KanbanColumn.css - Cleaned Up Classes
**Removed:**
- `.kanban-column__title--planning` (obsolete status-based class)
- `.kanban-column__title--needs_attention` (removed status from v3.2-01)
- `.kanban-column__title--in_progress` (renamed to match title format)

**Final 4 classes:**
- `.kanban-column__title--backlog`
- `.kanban-column__title--in-progress` (note: kebab-case, not snake_case)
- `.kanban-column__title--completed`
- `.kanban-column__title--archived`

## Verification
- `npm run typecheck` - Passed
- `npm run build` - Passed
- Column mapping matches spec exactly
- CSS has exactly 4 column title classes

## Files Modified
- `src/renderer/src/views/KanbanView.tsx`
- `src/renderer/src/components/Kanban/KanbanColumn.tsx`
- `src/renderer/src/components/Kanban/KanbanColumn.css`
