---
phase: v3.2-06-context-aware-ui-polish
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/renderer/src/components/Kanban/FeatureCard.tsx
  - src/renderer/src/components/Kanban/FeatureCard.css
autonomous: true

must_haves:
  truths:
    - "Feature cards show distinct icons for investigating, questioning, and planning states"
    - "Progress indicators differentiate between active states vs static states"
    - "Users can identify feature phase at a glance without reading status text"
  artifacts:
    - path: "src/renderer/src/components/Kanban/FeatureCard.tsx"
      provides: "State-specific icons (MagnifyingGlassIcon, QuestionMarkIcon, PlanningIcon)"
      contains: "MagnifyingGlassIcon|QuestionMarkIcon|PlanningIcon"
  key_links:
    - from: "FeatureCard.tsx getStatusInfo()"
      to: "status-specific icon component"
      via: "return icon field based on feature.status"
      pattern: "investigating.*MagnifyingGlass|questioning.*QuestionMark"
---

<objective>
Add state-specific icons to FeatureCard for investigating, questioning, and planning states.

Purpose: Users can identify feature phase at a glance via distinct visual icons instead of generic spinners.
Output: FeatureCard shows magnifying glass (investigating), question mark (questioning), and chart icon (planning).
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

@src/renderer/src/components/Kanban/FeatureCard.tsx
@src/renderer/src/components/Kanban/FeatureCard.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add state-specific icon components to FeatureCard</name>
  <files>src/renderer/src/components/Kanban/FeatureCard.tsx</files>
  <action>
Add three new icon components following the existing SpinnerIcon pattern:

1. **MagnifyingGlassIcon** - For investigating state (search/explore codebase)
   - SVG with magnifying glass shape
   - Use `stroke="currentColor"` for color inheritance
   - Add subtle animation class for active investigation

2. **QuestionMarkIcon** - For questioning state (awaiting user input)
   - SVG with question mark in circle shape
   - Static icon (no spinner) since this state waits for user
   - Use accent-secondary color to indicate attention needed

3. **PlanningIcon** - For planning state (creating tasks)
   - SVG with chart/diagram shape (or clipboard with checklist)
   - Use spinner animation since this is an active state

Update `getStatusInfo()` function to return appropriate icon based on status:
- `investigating`: MagnifyingGlassIcon with spin animation
- `questioning`: QuestionMarkIcon (static, pulse animation)
- `planning`: PlanningIcon with spin animation

The function already returns `showSpinner: boolean` - extend to return `icon: JSX.Element | null`.
  </action>
  <verify>npm run typecheck passes</verify>
  <done>getStatusInfo() returns state-specific icons for investigating/questioning/planning</done>
</task>

<task type="auto">
  <name>Task 2: Style state-specific icons with animations</name>
  <files>src/renderer/src/components/Kanban/FeatureCard.css</files>
  <action>
Add CSS classes for state-specific icon styling:

1. `.feature-card__status-icon` - Base class for status icons
   - Size: 1rem (matching existing spinner)
   - Vertical alignment with text

2. `.feature-card__status-icon--investigating` - Magnifying glass animation
   - Use spin animation (already exists)
   - Color: var(--accent-primary) for active exploration

3. `.feature-card__status-icon--questioning` - Question mark styling
   - Use pulse animation (add new @keyframes pulse)
   - Color: var(--accent-secondary) for attention-needed
   - Pulse draws attention without implying activity

4. `.feature-card__status-icon--planning` - Planning icon animation
   - Use spin animation
   - Color: var(--color-success) for progress

Add @keyframes pulse animation:
```css
@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}
```
  </action>
  <verify>npm run build succeeds</verify>
  <done>State-specific icons have distinct animations and colors</done>
</task>

<task type="auto">
  <name>Task 3: Render state-specific icon in status indicator section</name>
  <files>src/renderer/src/components/Kanban/FeatureCard.tsx</files>
  <action>
Update the status indicator section (around lines 300-305) to render the state-specific icon from getStatusInfo():

Currently:
```tsx
{statusInfo.showSpinner && (
  <span className="feature-card__status-spinner">
    <SpinnerIcon />
  </span>
)}
```

Change to:
```tsx
{statusInfo.icon && (
  <span className={`feature-card__status-icon feature-card__status-icon--${feature.status}`}>
    {statusInfo.icon}
  </span>
)}
```

Update StatusInfo interface to include `icon?: JSX.Element` and update all return statements in getStatusInfo() to include the appropriate icon.

For states without custom icons (like in_progress, completed, etc.), either:
- Keep using SpinnerIcon as fallback
- Or return null for icon and use existing showSpinner logic

Ensure backwards compatibility - states not in investigating/questioning/planning continue to work.
  </action>
  <verify>npm run build succeeds, npm run typecheck passes</verify>
  <done>FeatureCard renders state-specific icons in status indicator area</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] npm run typecheck passes
- [ ] npm run build succeeds
- [ ] FeatureCard shows magnifying glass icon for investigating state
- [ ] FeatureCard shows question mark icon for questioning state
- [ ] FeatureCard shows planning icon for planning state
- [ ] Icons have appropriate animations (spin vs pulse)
</verification>

<success_criteria>

- All tasks completed
- State-specific icons render correctly for investigating/questioning/planning
- Icons have distinct visual styling and animations
- No TypeScript errors or build failures
</success_criteria>

<output>
After completion, create `.planning/phases/v3.2-06-context-aware-ui-polish/v3.2-06-01-SUMMARY.md`
</output>
