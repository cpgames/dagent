---
phase: 06-ui-views
plan: 01
type: execute
---

<objective>
Create app layout with tab navigation between Kanban, DAG, and Context views.

Purpose: Establish the main UI shell and navigation pattern all views depend on.
Output: Working tab-based layout with view switching and proper styling.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-phase.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-data-model/02-03-SUMMARY.md
@src/renderer/src/App.tsx
@src/renderer/src/stores/feature-store.ts

**Tech stack available:** React, TypeScript, Tailwind CSS v4, Zustand
**Established patterns:**
- Zustand stores for state (useFeatureStore, useDAGStore)
- IPC via window.electronAPI
- Tailwind utility classes for styling

**Constraining decisions:**
- electron-vite setup with Tailwind v4 @tailwindcss/vite plugin
- Dark theme (bg-gray-900, text-white pattern from existing App.tsx)

**From DAGENT_SPEC section 3:**
- Three views: Kanban, DAG, Context
- Tab navigation at top
- "+ New Feature" button in header
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create view router state and types</name>
  <files>src/renderer/src/stores/view-store.ts, src/renderer/src/stores/index.ts</files>
  <action>
Create a Zustand store for view routing state:
- `ViewType` = 'kanban' | 'dag' | 'context'
- State: `activeView: ViewType` (default 'kanban')
- Actions: `setView(view: ViewType)`
- Export `useViewStore` hook

Update stores/index.ts to export the new store.
  </action>
  <verify>npm run typecheck passes</verify>
  <done>View store exists with activeView state and setView action</done>
</task>

<task type="auto">
  <name>Task 2: Create placeholder view components</name>
  <files>src/renderer/src/views/KanbanView.tsx, src/renderer/src/views/DAGView.tsx, src/renderer/src/views/ContextView.tsx, src/renderer/src/views/index.ts</files>
  <action>
Create three placeholder view components:

**KanbanView.tsx:**
```tsx
export default function KanbanView() {
  return (
    <div className="p-4">
      <h2 className="text-lg font-semibold mb-4">Kanban View</h2>
      <p className="text-gray-400">Feature cards will appear here</p>
    </div>
  );
}
```

**DAGView.tsx:** Similar placeholder with "DAG View" heading
**ContextView.tsx:** Similar placeholder with "Context View" heading

Create views/index.ts barrel export for all views.
  </action>
  <verify>npm run typecheck passes</verify>
  <done>Three view components exist with placeholder content</done>
</task>

<task type="auto">
  <name>Task 3: Refactor App.tsx with tab navigation</name>
  <files>src/renderer/src/App.tsx</files>
  <action>
Refactor App.tsx to implement tab-based layout per DAGENT_SPEC section 3:

1. Import useViewStore and view components
2. Create header with:
   - Tab buttons: Kanban, DAG, Context (styled tabs with active state)
   - "+ New Feature" button on right side
   - Remove old window controls (move to system titlebar or keep minimal)
3. Create main content area that renders active view
4. Tab styling:
   - Active: bg-gray-700 border-b-2 border-blue-500
   - Inactive: hover:bg-gray-800

Layout structure:
```tsx
<div className="min-h-screen bg-gray-900 text-white flex flex-col">
  <header> {/* tabs + new feature button */} </header>
  <main className="flex-1 overflow-auto">
    {activeView === 'kanban' && <KanbanView />}
    {activeView === 'dag' && <DAGView />}
    {activeView === 'context' && <ContextView />}
  </main>
</div>
```

Keep existing feature loading logic but remove the debug display.
  </action>
  <verify>npm run dev shows tab navigation, clicking tabs switches views</verify>
  <done>App has working tab navigation with three view tabs and New Feature button</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run typecheck` passes
- [ ] `npm run dev` launches app
- [ ] Clicking tabs switches between Kanban/DAG/Context views
- [ ] Active tab is visually distinct
- [ ] "+ New Feature" button visible in header
</verification>

<success_criteria>
- View store created with activeView state
- Three placeholder view components exist
- App.tsx renders tabs and switches views
- Dark theme styling consistent
</success_criteria>

<output>
After completion, create `.planning/phases/06-ui-views/06-01-SUMMARY.md`
</output>
