---
phase: 78-dialog-migration
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - src/renderer/src/components/Feature/FeatureMergeDialog.tsx
  - src/renderer/src/components/Feature/FeatureMergeDialog.css
  - src/renderer/src/components/DAG/LogDialog.tsx
  - src/renderer/src/components/DAG/LogDialog.css
  - src/renderer/src/components/DAG/SessionLogDialog.tsx
  - src/renderer/src/components/DAG/SessionLogDialog.css
autonomous: true
must_haves:
  truths:
    - "FeatureMergeDialog uses Dialog component with synthwave styling"
    - "LogDialog uses Dialog component with synthwave styling"
    - "SessionLogDialog uses Dialog component with synthwave styling"
    - "Filter buttons use theme colors for active/inactive states"
    - "Message bubbles use theme colors based on direction"
  artifacts:
    - path: "src/renderer/src/components/Feature/FeatureMergeDialog.css"
      provides: "Merge dialog styling with progress states"
    - path: "src/renderer/src/components/DAG/LogDialog.css"
      provides: "Log dialog styling with filter badges"
    - path: "src/renderer/src/components/DAG/SessionLogDialog.css"
      provides: "Session log styling with message bubbles"
  key_links:
    - from: "FeatureMergeDialog.tsx"
      to: "components/UI/Dialog"
      via: "import Dialog, DialogHeader, DialogBody, DialogFooter"
    - from: "LogDialog.tsx"
      to: "components/UI/Dialog"
      via: "import Dialog, DialogHeader, DialogBody, DialogFooter"
---

<objective>
Migrate FeatureMergeDialog, LogDialog, and SessionLogDialog to use UI Dialog component and synthwave theme.

Purpose: Complete dialog migration for Phase 78 by updating the remaining three dialogs.
Output: Three dialogs using Dialog component from UI library with proper synthwave styling.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md

# Prior phases establish patterns
@.planning/phases/73-base-ui-layout/73-01-SUMMARY.md
@.planning/phases/76-kanban-migration/76-01-SUMMARY.md

# UI components to use
@src/renderer/src/components/UI/Dialog.tsx
@src/renderer/src/components/UI/Dialog.css
@src/renderer/src/components/UI/Button.tsx
@src/renderer/src/components/UI/Input.tsx
@src/renderer/src/components/UI/Textarea.tsx
@src/renderer/src/components/UI/Checkbox.tsx
@src/renderer/src/components/UI/Select.tsx

# Current dialogs to migrate
@src/renderer/src/components/Feature/FeatureMergeDialog.tsx
@src/renderer/src/components/DAG/LogDialog.tsx
@src/renderer/src/components/DAG/SessionLogDialog.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate FeatureMergeDialog to UI Components</name>
  <files>src/renderer/src/components/Feature/FeatureMergeDialog.tsx, src/renderer/src/components/Feature/FeatureMergeDialog.css</files>
  <action>
Migrate FeatureMergeDialog to use Dialog component and CSS custom properties:

**1. Create FeatureMergeDialog.css:**
```css
/**
 * FeatureMergeDialog Component Styles
 * Merge/PR dialog with progress states
 */

.merge-dialog__feature-info {
  padding: var(--space-md);
  background: var(--bg-hover);
  border-radius: var(--radius-md);
  margin-bottom: var(--space-md);
}

.merge-dialog__feature-name {
  font-size: 0.875rem;
  color: var(--text-secondary);
}

.merge-dialog__feature-name-value {
  font-weight: 500;
  color: var(--text-primary);
}

.merge-dialog__branch-info {
  font-size: 0.75rem;
  color: var(--text-muted);
  margin-top: var(--space-xs);
}

/* Options section */
.merge-dialog__options {
  display: flex;
  flex-direction: column;
  gap: var(--space-md);
  margin-bottom: var(--space-md);
}

.merge-dialog__field {
  display: flex;
  flex-direction: column;
  gap: var(--space-xs);
}

.merge-dialog__label {
  font-size: 0.875rem;
  font-weight: 500;
  color: var(--text-secondary);
}

.merge-dialog__loading {
  display: flex;
  align-items: center;
  gap: var(--space-sm);
  font-size: 0.875rem;
  color: var(--text-muted);
}

.merge-dialog__loading-spinner {
  width: 1rem;
  height: 1rem;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

.merge-dialog__option-row {
  display: flex;
  align-items: center;
  gap: var(--space-md);
}

.merge-dialog__option-label {
  font-size: 0.875rem;
  color: var(--text-secondary);
}

/* PR Form */
.merge-dialog__pr-form {
  display: flex;
  flex-direction: column;
  gap: var(--space-md);
  margin-bottom: var(--space-md);
}

/* Status messages */
.merge-dialog__status {
  padding: var(--space-md);
  border-radius: var(--radius-md);
  margin-bottom: var(--space-md);
}

.merge-dialog__status--processing {
  background: var(--color-info-dim);
  border: 1px solid var(--accent-primary);
}

.merge-dialog__status--success {
  background: var(--color-success-dim);
  border: 1px solid var(--color-success);
}

.merge-dialog__status--error {
  background: var(--color-error-dim);
  border: 1px solid var(--color-error);
}

.merge-dialog__status-content {
  display: flex;
  align-items: center;
  gap: var(--space-sm);
}

.merge-dialog__status-text {
  font-size: 0.875rem;
}

.merge-dialog__status-text--processing {
  color: var(--accent-primary);
}

.merge-dialog__status-text--success {
  color: var(--color-success);
  font-weight: 500;
}

.merge-dialog__status-text--error {
  color: var(--color-error);
}

.merge-dialog__pr-link {
  font-size: 0.875rem;
  color: var(--accent-primary);
  margin-top: var(--space-xs);
  display: block;
}

.merge-dialog__pr-link:hover {
  color: var(--accent-primary);
  filter: brightness(1.2);
}
```

**2. Update FeatureMergeDialog.tsx:**
- Import Dialog, DialogHeader, DialogBody, DialogFooter from '@/components/UI'
- Import Input, Textarea, Button, Checkbox, Select from '@/components/UI'
- Import CSS file
- Replace manual overlay/dialog with Dialog component
- Replace select element with Select component
- Replace checkbox with Checkbox component
- Replace input/textarea with Input/Textarea components
- Replace buttons with Button components
- Use CSS classes for status messages (processing, success, error)
- Keep spinner SVG but style with CSS class
  </action>
  <verify>npm run build passes with no TypeScript errors</verify>
  <done>FeatureMergeDialog uses Dialog component and CSS custom properties</done>
</task>

<task type="auto">
  <name>Task 2: Migrate LogDialog to UI Components</name>
  <files>src/renderer/src/components/DAG/LogDialog.tsx, src/renderer/src/components/DAG/LogDialog.css</files>
  <action>
Migrate LogDialog to use Dialog component and CSS custom properties:

**1. Create LogDialog.css:**
```css
/**
 * LogDialog Component Styles
 * Agent log viewer with filtering
 */

.log-dialog__filter-bar {
  display: flex;
  align-items: center;
  gap: var(--space-sm);
  padding: var(--space-md) var(--space-lg);
  border-bottom: 1px solid var(--border-subtle);
}

.log-dialog__filter-label {
  font-size: 0.875rem;
  color: var(--text-muted);
}

.log-dialog__filter-buttons {
  display: flex;
  gap: 0.25rem;
}

.log-dialog__filter-btn {
  padding: 0.25rem var(--space-sm);
  font-size: 0.75rem;
  border-radius: var(--radius-sm);
  border: none;
  cursor: pointer;
  transition: all var(--transition-fast);
  text-transform: capitalize;
}

.log-dialog__filter-btn--inactive {
  background: var(--bg-hover);
  color: var(--text-secondary);
}

.log-dialog__filter-btn--inactive:hover {
  background: var(--bg-active);
}

.log-dialog__filter-btn--active {
  background: var(--accent-primary);
  color: var(--text-inverse);
}

.log-dialog__count {
  margin-left: auto;
  font-size: 0.75rem;
  color: var(--text-muted);
}

/* Log entries container */
.log-dialog__entries {
  display: flex;
  flex-direction: column;
  gap: var(--space-sm);
  padding: var(--space-md);
  overflow-y: auto;
  max-height: 50vh;
}

.log-dialog__empty {
  text-align: center;
  padding: var(--space-lg);
  color: var(--text-muted);
}

/* Log entry row */
.log-dialog__entry {
  background: var(--bg-base);
  border-radius: var(--radius-md);
  padding: var(--space-sm);
}

.log-dialog__entry-header {
  display: flex;
  align-items: center;
  gap: var(--space-sm);
  margin-bottom: var(--space-xs);
}

.log-dialog__timestamp {
  font-size: 0.75rem;
  font-family: monospace;
  color: var(--text-muted);
}

.log-dialog__badge {
  padding: 0.125rem var(--space-sm);
  font-size: 0.75rem;
  border-radius: var(--radius-sm);
  text-transform: capitalize;
  color: var(--text-primary);
}

/* Agent badges */
.log-dialog__badge--harness { background: var(--accent-secondary); }
.log-dialog__badge--task { background: var(--accent-primary); }
.log-dialog__badge--merge { background: var(--color-success); }
.log-dialog__badge--pm { background: #6366f1; } /* Indigo */

/* Type badges */
.log-dialog__badge--intention { background: var(--bg-active); }
.log-dialog__badge--approval { background: var(--color-success); }
.log-dialog__badge--rejection { background: var(--color-error); }
.log-dialog__badge--modification { background: var(--color-warning); }
.log-dialog__badge--action { background: var(--accent-primary); }
.log-dialog__badge--error { background: var(--color-error); }
.log-dialog__badge--pm-query { background: #818cf8; } /* Indigo-400 */
.log-dialog__badge--pm-response { background: #a5b4fc; } /* Indigo-300 */

.log-dialog__task-id {
  font-size: 0.75rem;
  color: var(--text-muted);
}

.log-dialog__content {
  font-size: 0.875rem;
  color: var(--text-secondary);
  white-space: pre-wrap;
}
```

**2. Update LogDialog.tsx:**
- Import Dialog, DialogHeader, DialogBody, DialogFooter from '@/components/UI'
- Import Button from '@/components/UI'
- Import CSS file
- Remove AGENT_COLORS and TYPE_COLORS constants (use CSS classes)
- Replace manual overlay/dialog with Dialog component
- Use CSS classes for filter buttons: `log-dialog__filter-btn--${filter === type ? 'active' : 'inactive'}`
- Use CSS classes for badges: `log-dialog__badge--${entry.agent}`, `log-dialog__badge--${entry.type}`
- Use CSS class for entries container: `log-dialog__entries`
- Replace footer button with Button component
  </action>
  <verify>npm run build passes with no TypeScript errors</verify>
  <done>LogDialog uses Dialog component and CSS custom properties</done>
</task>

<task type="auto">
  <name>Task 3: Migrate SessionLogDialog to UI Components</name>
  <files>src/renderer/src/components/DAG/SessionLogDialog.tsx, src/renderer/src/components/DAG/SessionLogDialog.css</files>
  <action>
Migrate SessionLogDialog to use Dialog component and CSS custom properties:

**1. Create SessionLogDialog.css:**
```css
/**
 * SessionLogDialog Component Styles
 * Task session viewer with conversation-style messages
 */

.session-dialog__header-content {
  display: flex;
  align-items: center;
  gap: var(--space-md);
}

.session-dialog__status-badge {
  padding: 0.125rem var(--space-sm);
  font-size: 0.75rem;
  border-radius: var(--radius-sm);
  text-transform: capitalize;
  color: var(--text-primary);
}

.session-dialog__status-badge--active { background: var(--accent-primary); }
.session-dialog__status-badge--completed { background: var(--color-success); }
.session-dialog__status-badge--failed { background: var(--color-error); }
.session-dialog__status-badge--paused { background: var(--color-warning); }

/* Filter bar */
.session-dialog__filter-bar {
  display: flex;
  align-items: center;
  gap: var(--space-sm);
  padding: var(--space-md) var(--space-lg);
  border-bottom: 1px solid var(--border-subtle);
}

.session-dialog__filter-label {
  font-size: 0.875rem;
  color: var(--text-muted);
}

.session-dialog__filter-buttons {
  display: flex;
  gap: 0.25rem;
}

.session-dialog__filter-btn {
  padding: 0.25rem var(--space-sm);
  font-size: 0.75rem;
  border-radius: var(--radius-sm);
  border: none;
  cursor: pointer;
  transition: all var(--transition-fast);
  text-transform: capitalize;
}

.session-dialog__filter-btn--inactive {
  background: var(--bg-hover);
  color: var(--text-secondary);
}

.session-dialog__filter-btn--inactive:hover {
  background: var(--bg-active);
}

.session-dialog__filter-btn--active {
  background: var(--accent-primary);
  color: var(--text-inverse);
}

.session-dialog__count {
  margin-left: auto;
  font-size: 0.75rem;
  color: var(--text-muted);
}

/* Messages container */
.session-dialog__messages {
  display: flex;
  flex-direction: column;
  gap: var(--space-sm);
  padding: var(--space-md);
  overflow-y: auto;
  max-height: 50vh;
}

.session-dialog__empty {
  text-align: center;
  padding: var(--space-lg);
  color: var(--text-muted);
}

/* Message row */
.session-dialog__message-row {
  display: flex;
  margin-bottom: 0.25rem;
}

.session-dialog__message-row--outgoing {
  justify-content: flex-end;
}

.session-dialog__message-row--incoming {
  justify-content: flex-start;
}

/* Message bubble */
.session-dialog__message {
  max-width: 80%;
  border-radius: var(--radius-lg);
  padding: var(--space-md);
}

.session-dialog__message--outgoing {
  background: var(--accent-primary);
  color: var(--text-inverse);
}

.session-dialog__message--incoming {
  background: var(--accent-secondary);
  color: var(--text-primary);
}

.session-dialog__message-header {
  display: flex;
  align-items: center;
  gap: var(--space-sm);
  margin-bottom: var(--space-xs);
  font-size: 0.75rem;
  opacity: 0.8;
}

.session-dialog__direction {
  font-weight: 500;
}

.session-dialog__type-badge {
  padding: 0.125rem var(--space-sm);
  border-radius: var(--radius-sm);
  text-transform: capitalize;
}

.session-dialog__type-badge--outgoing {
  background: rgba(0, 0, 0, 0.2);
}

.session-dialog__type-badge--incoming {
  background: rgba(0, 0, 0, 0.2);
}

.session-dialog__timestamp {
  margin-left: auto;
  font-family: monospace;
}

.session-dialog__message-content {
  font-size: 0.875rem;
  white-space: pre-wrap;
}

.session-dialog__metadata {
  margin-top: var(--space-sm);
  font-size: 0.75rem;
  opacity: 0.7;
}
```

**2. Update SessionLogDialog.tsx:**
- Import Dialog, DialogHeader, DialogBody, DialogFooter from '@/components/UI'
- Import Button from '@/components/UI'
- Import CSS file
- Remove STATUS_COLORS constant (use CSS classes)
- Replace manual overlay/dialog with Dialog component
- Add custom header content with status badge inside DialogHeader
- Use CSS classes for status: `session-dialog__status-badge--${session.status}`
- Use CSS classes for filter buttons
- Use CSS classes for message bubbles based on direction: `session-dialog__message--${isOutgoing ? 'outgoing' : 'incoming'}`
- Replace footer button with Button component
  </action>
  <verify>npm run build passes with no TypeScript errors</verify>
  <done>SessionLogDialog uses Dialog component and CSS custom properties</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds without errors
- [ ] FeatureMergeDialog.tsx imports and uses Dialog component
- [ ] FeatureMergeDialog.css exists with CSS custom properties
- [ ] LogDialog.tsx imports and uses Dialog component
- [ ] LogDialog.css exists with CSS custom properties
- [ ] SessionLogDialog.tsx imports and uses Dialog component
- [ ] SessionLogDialog.css exists with CSS custom properties
- [ ] All hardcoded Tailwind color classes replaced with theme variables
- [ ] Filter buttons and badges use semantic theme colors
</verification>

<success_criteria>

- All three dialogs use Dialog compound component from UI library
- FeatureMergeDialog uses Select, Input, Textarea, Checkbox, Button from UI library
- LogDialog and SessionLogDialog use themed filter buttons and badges
- Message bubbles in SessionLogDialog use theme accent colors
- CSS uses custom properties consistently (no hardcoded hex values)
- Build passes without errors
</success_criteria>

<output>
After completion, create `.planning/phases/78-dialog-migration/78-02-SUMMARY.md`
</output>
