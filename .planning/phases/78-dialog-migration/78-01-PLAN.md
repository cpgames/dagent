---
phase: 78-dialog-migration
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/renderer/src/components/DAG/NodeDialog.tsx
  - src/renderer/src/components/DAG/NodeDialog.css
  - src/renderer/src/components/Feature/NewFeatureDialog.tsx
  - src/renderer/src/components/Feature/NewFeatureDialog.css
  - src/renderer/src/components/Feature/DeleteFeatureDialog.tsx
  - src/renderer/src/components/Feature/DeleteFeatureDialog.css
autonomous: true
must_haves:
  truths:
    - "NodeDialog uses Dialog component with synthwave styling"
    - "NewFeatureDialog uses Dialog component with synthwave styling"
    - "DeleteFeatureDialog uses Dialog component with synthwave styling"
    - "All forms use Input/Textarea/Button/Checkbox from UI components"
    - "Status badges use theme semantic color variables"
  artifacts:
    - path: "src/renderer/src/components/DAG/NodeDialog.css"
      provides: "NodeDialog-specific styling with theme variables"
    - path: "src/renderer/src/components/Feature/NewFeatureDialog.css"
      provides: "NewFeatureDialog-specific styling"
    - path: "src/renderer/src/components/Feature/DeleteFeatureDialog.css"
      provides: "DeleteFeatureDialog-specific styling"
  key_links:
    - from: "NodeDialog.tsx"
      to: "components/UI/Dialog"
      via: "import Dialog, DialogHeader, DialogBody, DialogFooter"
    - from: "NewFeatureDialog.tsx"
      to: "components/UI/Dialog"
      via: "import Dialog, DialogHeader, DialogBody, DialogFooter"
---

<objective>
Migrate NodeDialog, NewFeatureDialog, and DeleteFeatureDialog to use UI Dialog component and synthwave theme.

Purpose: Replace hardcoded Tailwind classes with reusable UI components and CSS custom properties, consistent with established migration patterns.
Output: Three dialogs using Dialog component from UI library with proper synthwave styling.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md

# Prior phases establish patterns
@.planning/phases/73-base-ui-layout/73-01-SUMMARY.md
@.planning/phases/76-kanban-migration/76-01-SUMMARY.md

# UI components to use
@src/renderer/src/components/UI/Dialog.tsx
@src/renderer/src/components/UI/Dialog.css
@src/renderer/src/components/UI/Button.tsx
@src/renderer/src/components/UI/Input.tsx
@src/renderer/src/components/UI/Textarea.tsx
@src/renderer/src/components/UI/Checkbox.tsx
@src/renderer/src/components/UI/Badge.tsx

# Current dialogs to migrate
@src/renderer/src/components/DAG/NodeDialog.tsx
@src/renderer/src/components/Feature/NewFeatureDialog.tsx
@src/renderer/src/components/Feature/DeleteFeatureDialog.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate NodeDialog to UI Components</name>
  <files>src/renderer/src/components/DAG/NodeDialog.tsx, src/renderer/src/components/DAG/NodeDialog.css</files>
  <action>
Migrate NodeDialog to use Dialog component and CSS custom properties:

**1. Create NodeDialog.css:**
```css
/**
 * NodeDialog Component Styles
 * Task editing dialog with status badges and loop progress
 */

.node-dialog__form {
  display: flex;
  flex-direction: column;
  gap: var(--space-md);
}

/* Status badge styling */
.node-dialog__status-row {
  display: flex;
  align-items: center;
  gap: var(--space-md);
}

.node-dialog__status-label {
  font-size: 0.875rem;
  font-weight: 500;
  color: var(--text-secondary);
}

.node-dialog__status-badge {
  display: inline-block;
  padding: 0.25rem var(--space-md);
  font-size: 0.875rem;
  font-weight: 500;
  border-radius: var(--radius-full);
  border: 1px solid;
}

/* Status badge variants */
.node-dialog__status-badge--blocked,
.node-dialog__status-badge--ready_for_dev {
  background: var(--color-info-dim);
  color: var(--accent-primary);
  border-color: var(--accent-primary-dim);
}

.node-dialog__status-badge--in_progress {
  background: var(--color-warning-dim);
  color: var(--color-warning);
  border-color: var(--color-warning);
}

.node-dialog__status-badge--ready_for_qa {
  background: var(--accent-secondary-dim);
  color: var(--accent-secondary);
  border-color: var(--accent-secondary);
}

.node-dialog__status-badge--ready_for_merge {
  background: var(--color-warning-dim);
  color: var(--color-warning);
  border-color: var(--color-warning);
}

.node-dialog__status-badge--completed {
  background: var(--color-success-dim);
  color: var(--color-success);
  border-color: var(--color-success);
}

.node-dialog__status-badge--failed {
  background: var(--color-error-dim);
  color: var(--color-error);
  border-color: var(--color-error);
}

/* Loop progress section */
.node-dialog__loop-section {
  border-top: 1px solid var(--border-subtle);
  padding-top: var(--space-md);
}

.node-dialog__loop-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: var(--space-sm);
}

.node-dialog__loop-label {
  font-size: 0.875rem;
  font-weight: 500;
  color: var(--text-secondary);
}

.node-dialog__loop-status {
  font-size: 0.75rem;
  padding: 0.25rem var(--space-sm);
  border-radius: var(--radius-sm);
}

.node-dialog__loop-status--running {
  background: var(--accent-primary-dim);
  color: var(--accent-primary);
}

.node-dialog__loop-status--completed {
  background: var(--color-success-dim);
  color: var(--color-success);
}

.node-dialog__loop-status--failed {
  background: var(--color-error-dim);
  color: var(--color-error);
}

.node-dialog__loop-status--aborted {
  background: var(--color-warning-dim);
  color: var(--color-warning);
}

/* Checklist items */
.node-dialog__checklist {
  display: flex;
  flex-direction: column;
  gap: var(--space-xs);
  margin-bottom: var(--space-md);
}

.node-dialog__checklist-item {
  display: flex;
  align-items: center;
  gap: var(--space-sm);
  font-size: 0.875rem;
}

.node-dialog__checklist-icon {
  font-family: monospace;
}

.node-dialog__checklist-icon--pass { color: var(--color-success); }
.node-dialog__checklist-icon--fail { color: var(--color-error); }
.node-dialog__checklist-icon--pending { color: var(--color-warning); }
.node-dialog__checklist-icon--skipped { color: var(--text-muted); }

.node-dialog__checklist-label {
  color: var(--text-secondary);
  text-transform: capitalize;
}

.node-dialog__checklist-status {
  font-size: 0.75rem;
}

/* Abort button */
.node-dialog__abort-btn {
  display: flex;
  align-items: center;
  gap: var(--space-sm);
  padding: var(--space-sm) var(--space-md);
  border-radius: var(--radius-md);
  background: var(--color-error-dim);
  border: 1px solid var(--color-error);
  color: var(--color-error);
  cursor: pointer;
  transition: background var(--transition-fast);
}

.node-dialog__abort-btn:hover {
  background: rgba(255, 51, 102, 0.3);
}

.node-dialog__abort-icon {
  width: 1rem;
  height: 1rem;
}

/* Error/exit messages */
.node-dialog__loop-error {
  margin-top: var(--space-sm);
  font-size: 0.75rem;
  color: var(--color-error);
  background: var(--color-error-dim);
  padding: var(--space-sm);
  border-radius: var(--radius-sm);
}

.node-dialog__loop-exit {
  margin-top: var(--space-sm);
  font-size: 0.75rem;
  color: var(--text-muted);
}

/* Lock toggle row */
.node-dialog__controls-row {
  display: flex;
  align-items: center;
  gap: var(--space-md);
}

.node-dialog__lock-btn {
  display: flex;
  align-items: center;
  gap: var(--space-sm);
  padding: var(--space-sm) var(--space-md);
  border-radius: var(--radius-md);
  border: 1px solid var(--border-default);
  background: var(--bg-hover);
  color: var(--text-secondary);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.node-dialog__lock-btn:hover {
  background: var(--bg-active);
  color: var(--text-primary);
}

.node-dialog__lock-btn--locked {
  background: var(--color-warning-dim);
  border-color: var(--color-warning);
  color: var(--color-warning);
}

.node-dialog__lock-icon {
  width: 1.25rem;
  height: 1.25rem;
}

/* Disabled chat button */
.node-dialog__chat-btn {
  display: flex;
  align-items: center;
  gap: var(--space-sm);
  padding: var(--space-sm) var(--space-md);
  border-radius: var(--radius-md);
  background: var(--bg-hover);
  border: 1px solid var(--border-default);
  color: var(--text-disabled);
  cursor: not-allowed;
  opacity: 0.6;
}

.node-dialog__chat-icon {
  width: 1.25rem;
  height: 1.25rem;
}
```

**2. Update NodeDialog.tsx:**
- Import Dialog, DialogHeader, DialogBody, DialogFooter from '@/components/UI'
- Import Input, Textarea, Button from '@/components/UI'
- Import CSS file
- Remove `statusBadgeColors` constant (use CSS classes instead)
- Replace manual overlay/dialog structure with Dialog component
- Replace input/textarea with UI components
- Replace buttons with Button component
- Use CSS classes for status badges: `node-dialog__status-badge--${task.status}`
- Use CSS classes for loop status and checklist items
  </action>
  <verify>npm run build passes with no TypeScript errors</verify>
  <done>NodeDialog uses Dialog component and CSS custom properties for all styling</done>
</task>

<task type="auto">
  <name>Task 2: Migrate NewFeatureDialog to UI Components</name>
  <files>src/renderer/src/components/Feature/NewFeatureDialog.tsx, src/renderer/src/components/Feature/NewFeatureDialog.css</files>
  <action>
Migrate NewFeatureDialog to use Dialog component and CSS custom properties:

**1. Create NewFeatureDialog.css:**
```css
/**
 * NewFeatureDialog Component Styles
 * Feature creation dialog with validation
 */

.new-feature-dialog__form {
  display: flex;
  flex-direction: column;
  gap: var(--space-md);
}

.new-feature-dialog__field {
  display: flex;
  flex-direction: column;
  gap: var(--space-xs);
}

.new-feature-dialog__label {
  font-size: 0.75rem;
  font-weight: 500;
  color: var(--text-muted);
}

.new-feature-dialog__error {
  padding: var(--space-md);
  background: var(--color-error-dim);
  border: 1px solid var(--color-error);
  border-radius: var(--radius-md);
  font-size: 0.875rem;
  color: var(--color-error);
}
```

**2. Update NewFeatureDialog.tsx:**
- Import Dialog, DialogHeader, DialogBody, DialogFooter from '@/components/UI'
- Import Input, Button from '@/components/UI'
- Import CSS file
- Replace manual overlay/dialog with Dialog component (open={isOpen}, onClose={handleClose})
- Replace header with DialogHeader (title="Create New Feature")
- Replace body content with DialogBody
- Replace footer with DialogFooter
- Replace input with Input component
- Replace buttons with Button components (variant="ghost" for Cancel, variant="primary" for Create)
- Use CSS classes for field layout and error display
  </action>
  <verify>npm run build passes with no TypeScript errors</verify>
  <done>NewFeatureDialog uses Dialog component and CSS custom properties</done>
</task>

<task type="auto">
  <name>Task 3: Migrate DeleteFeatureDialog to UI Components</name>
  <files>src/renderer/src/components/Feature/DeleteFeatureDialog.tsx, src/renderer/src/components/Feature/DeleteFeatureDialog.css</files>
  <action>
Migrate DeleteFeatureDialog to use Dialog component and CSS custom properties:

**1. Create DeleteFeatureDialog.css:**
```css
/**
 * DeleteFeatureDialog Component Styles
 * Confirmation dialog for feature deletion
 */

.delete-feature-dialog__content {
  display: flex;
  flex-direction: column;
  gap: var(--space-md);
}

.delete-feature-dialog__message {
  color: var(--text-secondary);
}

.delete-feature-dialog__feature-name {
  font-weight: 600;
  color: var(--text-primary);
}

.delete-feature-dialog__warning {
  padding: var(--space-md);
  background: var(--color-error-dim);
  border: 1px solid var(--color-error);
  border-radius: var(--radius-md);
  font-size: 0.875rem;
  color: var(--color-error);
}

.delete-feature-dialog__warning-title {
  font-weight: 500;
  margin-bottom: var(--space-xs);
}

.delete-feature-dialog__option {
  display: flex;
  align-items: center;
  gap: var(--space-md);
}

.delete-feature-dialog__option-label {
  font-size: 0.875rem;
  color: var(--text-secondary);
}
```

**2. Update DeleteFeatureDialog.tsx:**
- Import Dialog, DialogHeader, DialogBody, DialogFooter from '@/components/UI'
- Import Checkbox, Button from '@/components/UI'
- Import CSS file
- Replace manual overlay/dialog with Dialog component
- Replace header with DialogHeader (title="Delete Feature")
- Replace body with DialogBody
- Replace footer with DialogFooter
- Replace checkbox with Checkbox component
- Replace buttons with Button components (variant="ghost" for Cancel, variant="danger" for Delete)
- Use CSS classes for content layout and warning styling
  </action>
  <verify>npm run build passes with no TypeScript errors</verify>
  <done>DeleteFeatureDialog uses Dialog component and CSS custom properties</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds without errors
- [ ] NodeDialog.tsx imports and uses Dialog component
- [ ] NodeDialog.css exists with CSS custom properties
- [ ] NewFeatureDialog.tsx imports and uses Dialog component
- [ ] NewFeatureDialog.css exists with CSS custom properties
- [ ] DeleteFeatureDialog.tsx imports and uses Dialog component
- [ ] DeleteFeatureDialog.css exists with CSS custom properties
- [ ] All hardcoded Tailwind color classes replaced with theme variables
- [ ] Status badges use semantic theme color variables
</verification>

<success_criteria>

- All three dialogs use Dialog compound component from UI library
- All forms use Input/Textarea/Button/Checkbox from UI library
- Status badges have themed colors matching prior migration patterns
- CSS uses custom properties consistently (no hardcoded hex values)
- Build passes without errors
</success_criteria>

<output>
After completion, create `.planning/phases/78-dialog-migration/78-01-SUMMARY.md`
</output>
