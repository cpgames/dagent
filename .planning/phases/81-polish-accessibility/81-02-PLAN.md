---
phase: 81-polish-accessibility
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - src/renderer/src/themes/synthwave.css
  - src/renderer/src/assets/main.css
  - src/renderer/src/components/UI/Button.css
  - src/renderer/src/components/UI/Input.css
  - src/renderer/src/components/UI/Checkbox.css
  - src/renderer/src/components/UI/Radio.css
  - src/renderer/src/components/UI/Toggle.css
  - src/renderer/src/components/UI/Select.css
  - src/renderer/src/components/UI/Tabs.css
autonomous: true
must_haves:
  truths:
    - "Reduced motion preference disables animations"
    - "Focus states are visible on all interactive elements"
    - "Global focus styling is consistent"
  artifacts:
    - path: "src/renderer/src/assets/main.css"
      provides: "Global reduced motion and focus styles"
  key_links:
    - from: "main.css"
      to: "@media (prefers-reduced-motion)"
      via: "CSS media query"
---

<objective>
Add reduced motion support and ensure consistent focus states across all UI components.

Purpose: Improve accessibility for users with vestibular disorders and ensure keyboard navigation is visually clear throughout the application.

Output: Global reduced-motion media query that disables animations, consistent focus-visible styling on all interactive components.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Theme and global styles
@src/renderer/src/themes/synthwave.css
@src/renderer/src/assets/main.css

# UI components to audit
@src/renderer/src/components/UI/Button.css
@src/renderer/src/components/UI/Input.css
@src/renderer/src/components/UI/Checkbox.css
@src/renderer/src/components/UI/Toggle.css
@src/renderer/src/components/UI/Select.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add reduced motion support to global styles</name>
  <files>src/renderer/src/assets/main.css</files>
  <action>
Add a prefers-reduced-motion media query block at the end of main.css:

```css
/* Reduced motion support for accessibility */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}
```

This globally disables all animations and transitions when the user has indicated a preference for reduced motion.
  </action>
  <verify>npm run build succeeds, main.css contains prefers-reduced-motion media query</verify>
  <done>Users with reduced motion preference see no animations or transitions</done>
</task>

<task type="auto">
  <name>Task 2: Add global focus-visible styles for consistency</name>
  <files>src/renderer/src/assets/main.css</files>
  <action>
Add global focus-visible styles to main.css (before the reduced motion block):

```css
/* Global focus styles for keyboard navigation */
:focus {
  outline: none;
}

:focus-visible {
  outline: 2px solid var(--accent-primary);
  outline-offset: 2px;
}

/* Ensure interactive elements have visible focus rings */
a:focus-visible,
button:focus-visible,
[role="button"]:focus-visible,
[tabindex]:focus-visible:not([tabindex="-1"]),
input:focus-visible,
select:focus-visible,
textarea:focus-visible {
  outline: 2px solid var(--accent-primary);
  outline-offset: 2px;
}
```

This ensures consistent keyboard focus indication across all interactive elements, even those not using UI components.
  </action>
  <verify>npm run build succeeds, main.css contains focus-visible styles</verify>
  <done>All interactive elements show consistent cyan focus ring when navigated via keyboard</done>
</task>

<task type="auto">
  <name>Task 3: Audit and fix focus states in UI component CSS files</name>
  <files>src/renderer/src/components/UI/Checkbox.css, src/renderer/src/components/UI/Radio.css, src/renderer/src/components/UI/Toggle.css, src/renderer/src/components/UI/Select.css, src/renderer/src/components/UI/Tabs.css</files>
  <action>
Review each UI component CSS file and ensure:
1. All have :focus-visible rules (not just :focus)
2. Focus outline uses var(--accent-primary) with outline-offset: 2px
3. Remove any hardcoded blue focus colors

Components to check:
- Checkbox.css: ensure the checkbox control has focus-visible
- Radio.css: ensure the radio control has focus-visible
- Toggle.css: ensure the toggle switch has focus-visible
- Select.css: ensure the select dropdown trigger has focus-visible
- Tabs.css: ensure each tab button has focus-visible

Pattern (already in Button.css):
```css
.ui-component:focus-visible {
  outline: 2px solid var(--accent-primary);
  outline-offset: 2px;
}
```

Fix any components that are missing this pattern or using inconsistent focus styles.
  </action>
  <verify>npm run build succeeds, all UI components have consistent focus-visible styles</verify>
  <done>All UI components have consistent focus-visible styling with cyan outline</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds without errors
- [ ] main.css contains @media (prefers-reduced-motion: reduce) block
- [ ] main.css contains global :focus-visible styles
- [ ] All UI component CSS files have :focus-visible rules
- [ ] No hardcoded blue focus colors remain
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- Reduced motion media query disables animations globally
- Focus states are consistent across all interactive elements
</success_criteria>

<output>
After completion, create `.planning/phases/81-polish-accessibility/81-02-SUMMARY.md`
</output>
