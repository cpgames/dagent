---
phase: 48-feature-start-button
plan: 01
title: Start Execution from Kanban Card
scope: small
duration: ~5 min
tests: none
---

# Plan: Start Execution from Kanban Card

## Objective

Add a Start button to feature cards in the Kanban view to begin execution directly without navigating to DAG view.

Purpose: Users can quickly start execution from the Kanban board overview
Output: Start button on FeatureCard that triggers execution via execution-store

## Context

@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/47-kanban-feature-status/47-01-SUMMARY.md
@src/renderer/src/components/Kanban/FeatureCard.tsx
@src/renderer/src/views/KanbanView.tsx
@src/renderer/src/stores/execution-store.ts

**Tech stack available:** React, Zustand, Tailwind CSS, TypeScript
**Established patterns:**
- FeatureCard has button handlers (handleArchive, handleDelete) with e.stopPropagation()
- KanbanColumn passes callback props (onArchiveFeature, onDeleteFeature)
- execution-store has `start(featureId)` method that loads DAG and starts execution

**Constraining decisions:**
- Phase 47: Feature status now updates automatically based on task states
- Start button should only appear for features that can be started (not_started, needs_attention)
- Avoid showing Start for in_progress (already running) or completed features

## Tasks

### Task 1: Add Start Button to FeatureCard

**Files:** `src/renderer/src/components/Kanban/FeatureCard.tsx`

**Action:**
1. Add optional `onStart?: (featureId: string) => void` prop to FeatureCardProps
2. Add `isStarting?: boolean` prop to show loading state
3. Create PlayIcon component (similar to TrashIcon pattern):
   - Use SVG: `<path d="M5 3l14 9-14 9V3z" />` (play triangle)
4. Add Start button in the card header area (next to delete button):
   - Show only when `feature.status === 'not_started' || feature.status === 'needs_attention'`
   - Style: `text-gray-500 hover:text-green-400` (green for start action)
   - Show on hover like delete button: `opacity-0 group-hover:opacity-100`
   - When `isStarting` is true, show spinner or disabled state
5. Add `handleStart` function with `e.stopPropagation()` pattern

**Verify:** File compiles, no TypeScript errors: `npm run typecheck`

**Done:**
- FeatureCard accepts onStart and isStarting props
- Start button visible on hover for not_started/needs_attention features
- Button calls onStart with featureId when clicked

### Task 2: Wire Start Button Through KanbanView

**Files:** `src/renderer/src/views/KanbanView.tsx`, `src/renderer/src/components/Kanban/KanbanColumn.tsx`

**Action:**
1. In KanbanView:
   - Import `useExecutionStore` from stores/execution-store
   - Add `handleStartFeature` function that calls `execution.start(featureId)`
   - Track starting state: `const [startingFeatureId, setStartingFeatureId] = useState<string | null>(null)`
   - Pass `onStartFeature` and `startingFeatureId` to KanbanColumn
2. In KanbanColumn:
   - Add `onStartFeature?: (featureId: string) => void` prop
   - Add `startingFeatureId?: string | null` prop
   - Pass to FeatureCard as `onStart` and `isStarting={feature.id === startingFeatureId}`

**Verify:** `npm run build` succeeds

**Done:**
- Start button on feature card triggers execution
- Loading state shown while starting
- Toast notifications from execution-store appear on success/failure

## Verification

- [ ] `npm run build` succeeds without errors
- [ ] Start button appears on not_started features on hover
- [ ] Start button appears on needs_attention features on hover
- [ ] Start button does NOT appear on in_progress or completed features
- [ ] Clicking Start triggers execution (toast confirms)

## Success Criteria

- FeatureCard has Start button with proper visibility rules
- KanbanView wired to execution-store
- Users can start execution from Kanban without navigating to DAG view
- Loading state prevents double-clicks

## Output

After completion, create `.planning/phases/48-feature-start-button/48-01-SUMMARY.md`
