---
phase: 75-layout-migration
plan: 01
status: complete
started: 2026-01-16
completed: 2026-01-16
type: execute
wave: 1
depends_on: []
files_modified:
  - src/renderer/src/App.tsx
  - src/renderer/src/components/Layout/ViewSidebar.tsx
  - src/renderer/src/components/Layout/ViewSidebar.css
  - src/renderer/src/components/Layout/StatusBar.tsx
  - src/renderer/src/components/Layout/StatusBar.css
  - src/renderer/src/components/Layout/ResizeHandle.tsx
  - src/renderer/src/components/Layout/ResizeHandle.css
  - src/renderer/src/components/Layout/index.ts
autonomous: true
must_haves:
  truths:
    - "App renders with SynthwaveBackground behind all content"
    - "Header has neon cyan glow on 'New Feature' button"
    - "ViewSidebar icons glow cyan when active"
    - "StatusBar uses theme colors and text styles"
    - "ResizeHandle glows cyan/magenta on hover"
  artifacts:
    - path: "src/renderer/src/components/Layout/ViewSidebar.css"
      provides: "Synthwave styling for sidebar"
    - path: "src/renderer/src/components/Layout/StatusBar.css"
      provides: "Synthwave styling for status bar"
    - path: "src/renderer/src/components/Layout/ResizeHandle.css"
      provides: "Synthwave styling for resize handle"
  key_links:
    - from: "src/renderer/src/App.tsx"
      to: "SynthwaveBackground"
      via: "Import and render as first child"
    - from: "src/renderer/src/App.tsx"
      to: "Button component"
      via: "Replace inline button with UI Button"
---

<objective>
Migrate layout components to synthwave theme with CSS custom properties.

Purpose: Apply synthwave aesthetic to the application shell (header, sidebar, status bar) and integrate the background system.
Output: Updated App.tsx with SynthwaveBackground, and migrated Layout components with CSS files using theme variables.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md

# Prior phases provide CSS custom properties and components
@.planning/phases/70-theme-infrastructure/70-01-SUMMARY.md
@.planning/phases/74-background-system/74-01-SUMMARY.md

# Reference files for patterns and variables
@src/renderer/src/themes/synthwave.css
@src/renderer/src/components/UI/Button.tsx
@src/renderer/src/components/UI/Button.css
@src/renderer/src/components/Background/index.ts

# Current layout components to migrate
@src/renderer/src/App.tsx
@src/renderer/src/components/Layout/ViewSidebar.tsx
@src/renderer/src/components/Layout/StatusBar.tsx
@src/renderer/src/components/Layout/ResizeHandle.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Integrate SynthwaveBackground and Update App.tsx</name>
  <files>src/renderer/src/App.tsx</files>
  <action>
Update App.tsx to integrate the synthwave theme:

**1. Import SynthwaveBackground:**
```typescript
import { SynthwaveBackground } from './components/Background';
import { Button } from './components/UI';
```

**2. Replace header button with UI Button:**
Replace the inline "New Feature" button with the UI Button component:
```tsx
<Button
  variant="primary"
  onClick={() => setNewFeatureDialogOpen(true)}
>
  + New Feature
</Button>
```

**3. Add SynthwaveBackground:**
Add `<SynthwaveBackground />` as the first child inside the ErrorBoundary, before the main layout div.

**4. Update main container styles:**
Replace Tailwind classes with CSS custom properties:
- `bg-gray-900` → Remove (background provided by SynthwaveBackground)
- `border-gray-700` → `border-[var(--border-default)]`
- `bg-gray-800` (header) → `bg-[var(--bg-surface)]`

Make the main container background transparent so the SynthwaveBackground shows through:
```tsx
<div className="h-screen text-white flex flex-col overflow-hidden relative z-0">
```
  </action>
  <verify>npm run build passes with no TypeScript errors</verify>
  <done>App.tsx imports and renders SynthwaveBackground, uses UI Button for "New Feature"</done>
</task>

<task type="auto">
  <name>Task 2: Migrate ViewSidebar with CSS</name>
  <files>src/renderer/src/components/Layout/ViewSidebar.tsx, src/renderer/src/components/Layout/ViewSidebar.css</files>
  <action>
Create CSS file and update component to use synthwave styling:

**CSS (ViewSidebar.css):**
```css
.view-sidebar {
  width: 3rem;
  background: var(--bg-surface);
  border-right: 1px solid var(--border-default);
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: var(--space-sm) 0;
  gap: var(--space-xs);
}

.view-sidebar__button {
  width: 2.5rem;
  height: 2.5rem;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: var(--radius-md);
  border: none;
  background: transparent;
  color: var(--text-muted);
  cursor: pointer;
  transition: all var(--transition-fast);
  position: relative;
}

.view-sidebar__button:hover {
  background: var(--bg-hover);
  color: var(--text-secondary);
}

.view-sidebar__button--active {
  background: var(--bg-elevated);
  color: var(--accent-primary);
}

.view-sidebar__button--active:hover {
  background: var(--bg-elevated);
}

/* Active indicator - right edge glow */
.view-sidebar__indicator {
  position: absolute;
  right: 0;
  top: 50%;
  transform: translateY(-50%);
  width: 2px;
  height: 1.5rem;
  background: var(--accent-primary);
  border-radius: 1px 0 0 1px;
  box-shadow: 0 0 8px var(--accent-primary);
}

.view-sidebar__icon {
  width: 1.25rem;
  height: 1.25rem;
}
```

**Component updates:**
- Import CSS file
- Replace Tailwind classes with CSS classes
- Add icon glow effect for active state
  </action>
  <verify>npm run build passes with no TypeScript errors</verify>
  <done>ViewSidebar uses CSS custom properties with cyan glow on active icon</done>
</task>

<task type="auto">
  <name>Task 3: Migrate StatusBar and ResizeHandle with CSS</name>
  <files>src/renderer/src/components/Layout/StatusBar.tsx, src/renderer/src/components/Layout/StatusBar.css, src/renderer/src/components/Layout/ResizeHandle.tsx, src/renderer/src/components/Layout/ResizeHandle.css, src/renderer/src/components/Layout/index.ts</files>
  <action>
Create CSS files and update components:

**StatusBar.css:**
```css
.status-bar {
  height: 2rem;
  background: var(--bg-surface);
  border-top: 1px solid var(--border-default);
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 var(--space-md);
  font-size: 0.75rem;
  overflow: hidden;
}

.status-bar__left {
  display: flex;
  align-items: center;
  overflow: hidden;
  min-width: 0;
  flex-shrink: 1;
}

.status-bar__path {
  color: var(--text-muted);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  max-width: 16rem;
}

.status-bar__right {
  display: flex;
  align-items: center;
  gap: var(--space-md);
  flex-shrink: 0;
}
```

**ResizeHandle.css:**
```css
.resize-handle {
  position: absolute;
  top: 0;
  bottom: 0;
  width: 0.5rem;
  cursor: col-resize;
  z-index: 20;
  background: var(--border-subtle);
  transition: background var(--transition-fast), box-shadow var(--transition-fast);
}

.resize-handle--left {
  left: -0.25rem;
}

.resize-handle--right {
  right: -0.25rem;
}

.resize-handle:hover {
  background: var(--accent-primary);
  box-shadow: 0 0 8px var(--accent-primary);
}

.resize-handle:active {
  background: var(--accent-secondary);
  box-shadow: 0 0 12px var(--accent-secondary);
}
```

**Component updates:**
- Import respective CSS files
- Replace Tailwind classes with CSS classes
- Keep same functionality, just update styling

**Update Layout/index.ts barrel export to ensure all are exported:**
```typescript
export { ViewSidebar } from './ViewSidebar';
export { StatusBar } from './StatusBar';
export { ResizeHandle } from './ResizeHandle';
```
  </action>
  <verify>npm run build passes with no TypeScript errors</verify>
  <done>StatusBar and ResizeHandle use CSS custom properties with proper theming</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds without errors
- [ ] App.tsx renders SynthwaveBackground as first child
- [ ] "New Feature" button uses UI Button component with primary variant
- [ ] ViewSidebar.css exists with CSS custom properties
- [ ] StatusBar.css exists with CSS custom properties
- [ ] ResizeHandle.css exists with CSS custom properties
- [ ] All Layout components use theme variables (no hardcoded colors)
</verification>

<success_criteria>

- App renders with SynthwaveBackground visible behind content
- Header "New Feature" button has primary button styling with glow
- ViewSidebar active icon has cyan glow
- StatusBar uses theme text colors
- ResizeHandle glows on hover
- All Tailwind color classes replaced with CSS custom properties
- Build passes without errors
</success_criteria>

<output>
After completion, create `.planning/phases/75-layout-migration/75-01-SUMMARY.md`
</output>
