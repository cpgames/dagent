# v2.1 Kanban Board Improvements

## Overview

Improve Kanban board to automatically reflect feature execution state based on task statuses, add Start button for quick feature execution, and fix UI padding issues.

## Goals

1. **Dynamic Feature Status** - Feature column determined by task states
2. **Start Button** - Launch feature execution from Kanban card
3. **UI Polish** - Fix padding and spacing issues

## Phases

### Phase 47: Kanban Feature Status

**Goal:** Automatically move features to correct column based on task statuses.

**Status Rules:**
| Condition | Feature Status | Column |
|-----------|----------------|--------|
| All tasks blocked/ready | `not_started` | Not Started |
| Any task dev/qa/merging | `in_progress` | In Progress |
| Any task failed | `needs_attention` | Needs Attention |
| All tasks completed | `completed` | Completed |

**Priority (highest wins):**
1. `needs_attention` - Any failed task
2. `completed` - All tasks completed
3. `in_progress` - Any active task
4. `not_started` - Default

**Implementation:**
- Create `computeFeatureStatus(tasks: Task[]): FeatureStatus` utility
- Call after task state changes
- Update feature.status and persist
- Trigger from orchestrator state transitions

**Files:**
- `src/main/dag-engine/feature-status.ts` - Status computation logic
- `src/main/dag-engine/orchestrator.ts` - Trigger status updates
- `src/renderer/src/stores/feature-store.ts` - Handle status changes

---

### Phase 48: Feature Start Button

**Goal:** Add Start button on feature cards in Not Started column.

**Behavior:**
- Button only visible on `not_started` features
- Clicking starts feature execution
- Updates status to `in_progress`
- Same as clicking Start in DAG view

**Implementation:**
- Add `onStart` callback to FeatureCard props
- Add Play icon button next to feature name
- Wire to execution store's `start()` method
- Update feature status on start

**Files:**
- `src/renderer/src/components/Kanban/FeatureCard.tsx` - Start button UI
- `src/renderer/src/components/Kanban/KanbanColumn.tsx` - Pass callback
- `src/renderer/src/views/KanbanView.tsx` - Handle start action

---

### Phase 49: Kanban UI Polish

**Goal:** Fix padding and spacing issues in Kanban view.

**Issues to fix:**
- Card padding consistency
- Column header alignment
- Spacing between columns
- Scrollbar styling
- Empty state styling

**Files:**
- `src/renderer/src/views/KanbanView.tsx` - Container padding
- `src/renderer/src/components/Kanban/KanbanColumn.tsx` - Column styling
- `src/renderer/src/components/Kanban/FeatureCard.tsx` - Card padding

---

## Dependencies

```
Phase 47 (Feature Status)
    │
    └──► Phase 48 (Start Button)
              │
              └──► Phase 49 (UI Polish)
```

## Success Criteria

1. Features automatically move columns based on task state
2. Start button launches execution from Kanban
3. UI spacing is consistent and polished

## Estimated Complexity

| Phase | Plans | Complexity |
|-------|-------|------------|
| 47. Feature Status | 1-2 | Medium |
| 48. Start Button | 1 | Low |
| 49. UI Polish | 1 | Low |

**Total:** 3 phases, ~4 plans
